{"ast":null,"code":"import _regeneratorRuntime from \"/home/ali/Documents/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ali/Documents/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING, CART_SAVE_PAYMENT } from \"../constants/cartConstants\";\n\nconst addToCart = (productId, qty) => /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch, getState) {\n    var _yield$Axios$get, data, _getState, cartItems;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return Axios.get(\"/api/products/\" + productId);\n\n        case 3:\n          _yield$Axios$get = _context.sent;\n          data = _yield$Axios$get.data;\n          dispatch({\n            type: CART_ADD_ITEM,\n            payload: {\n              product: data._id,\n              name: data.name,\n              image: data.image,\n              price: data.price,\n              countInStock: data.countInStock,\n              qty\n            }\n          });\n          _getState = getState(), cartItems = _getState.cart.cartItems;\n          Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n          _context.next = 12;\n          break;\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](0);\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nconst removeFromCart = productId => (dispatch, getState) => {\n  dispatch({\n    type: CART_REMOVE_ITEM,\n    payload: productId\n  });\n\n  const _getState2 = getState(),\n        cartItems = _getState2.cart.cartItems;\n\n  Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n};\n\nconst saveShipping = data => dispatch => {\n  dispatch({\n    type: CART_SAVE_SHIPPING,\n    payload: data\n  });\n};\n\nconst savePayment = data => dispatch => {\n  dispatch({\n    type: CART_SAVE_PAYMENT,\n    payload: data\n  });\n};\n\nexport { addToCart, removeFromCart, saveShipping, savePayment };","map":{"version":3,"sources":["/home/ali/Documents/website/src/actions/cartActions.js"],"names":["Axios","Cookie","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING","CART_SAVE_PAYMENT","addToCart","productId","qty","dispatch","getState","get","data","type","payload","product","_id","name","image","price","countInStock","cartItems","cart","set","JSON","stringify","removeFromCart","saveShipping","savePayment"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,aAAT,EAAwBC,gBAAxB,EAA0CC,kBAA1C,EAA8DC,iBAA9D,QAAuF,4BAAvF;;AAEA,MAAMC,SAAS,GAAG,CAACC,SAAD,EAAYC,GAAZ;AAAA,sEAAoB,iBAAOC,QAAP,EAAiBC,QAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAEXV,KAAK,CAACW,GAAN,CAAU,mBAAmBJ,SAA7B,CAFW;;AAAA;AAAA;AAE1BK,UAAAA,IAF0B,oBAE1BA,IAF0B;AAGlCH,UAAAA,QAAQ,CAAC;AACPI,YAAAA,IAAI,EAAEX,aADC;AACcY,YAAAA,OAAO,EAAE;AAC5BC,cAAAA,OAAO,EAAEH,IAAI,CAACI,GADc;AAE5BC,cAAAA,IAAI,EAAEL,IAAI,CAACK,IAFiB;AAG5BC,cAAAA,KAAK,EAAEN,IAAI,CAACM,KAHgB;AAI5BC,cAAAA,KAAK,EAAEP,IAAI,CAACO,KAJgB;AAK5BC,cAAAA,YAAY,EAAER,IAAI,CAACQ,YALS;AAM5BZ,cAAAA;AAN4B;AADvB,WAAD,CAAR;AAHkC,sBAaFE,QAAQ,EAbN,EAalBW,SAbkB,aAa1BC,IAb0B,CAalBD,SAbkB;AAclCpB,UAAAA,MAAM,CAACsB,GAAP,CAAW,WAAX,EAAwBC,IAAI,CAACC,SAAL,CAAeJ,SAAf,CAAxB;AAdkC;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApB;;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAoBA,MAAMK,cAAc,GAAInB,SAAD,IAAe,CAACE,QAAD,EAAWC,QAAX,KAAwB;AAC5DD,EAAAA,QAAQ,CAAC;AAAEI,IAAAA,IAAI,EAAEV,gBAAR;AAA0BW,IAAAA,OAAO,EAAEP;AAAnC,GAAD,CAAR;;AAD4D,qBAG5BG,QAAQ,EAHoB;AAAA,QAG5CW,SAH4C,cAGpDC,IAHoD,CAG5CD,SAH4C;;AAI5DpB,EAAAA,MAAM,CAACsB,GAAP,CAAW,WAAX,EAAwBC,IAAI,CAACC,SAAL,CAAeJ,SAAf,CAAxB;AACD,CALD;;AAMA,MAAMM,YAAY,GAAIf,IAAD,IAAWH,QAAD,IAAc;AAC3CA,EAAAA,QAAQ,CAAC;AAAEI,IAAAA,IAAI,EAAET,kBAAR;AAA4BU,IAAAA,OAAO,EAAEF;AAArC,GAAD,CAAR;AACD,CAFD;;AAGA,MAAMgB,WAAW,GAAIhB,IAAD,IAAWH,QAAD,IAAc;AAC1CA,EAAAA,QAAQ,CAAC;AAAEI,IAAAA,IAAI,EAAER,iBAAR;AAA2BS,IAAAA,OAAO,EAAEF;AAApC,GAAD,CAAR;AACD,CAFD;;AAGA,SAASN,SAAT,EAAoBoB,cAApB,EAAoCC,YAApC,EAAkDC,WAAlD","sourcesContent":["import Axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING, CART_SAVE_PAYMENT } from \"../constants/cartConstants\";\n\nconst addToCart = (productId, qty) => async (dispatch, getState) => {\n  try {\n    const { data } = await Axios.get(\"/api/products/\" + productId);\n    dispatch({\n      type: CART_ADD_ITEM, payload: {\n        product: data._id,\n        name: data.name,\n        image: data.image,\n        price: data.price,\n        countInStock: data.countInStock,\n        qty\n      }\n    });\n    const { cart: { cartItems } } = getState();\n    Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n\n  } catch (error) {\n\n  }\n}\nconst removeFromCart = (productId) => (dispatch, getState) => {\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\n\n  const { cart: { cartItems } } = getState();\n  Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n}\nconst saveShipping = (data) => (dispatch) => {\n  dispatch({ type: CART_SAVE_SHIPPING, payload: data });\n}\nconst savePayment = (data) => (dispatch) => {\n  dispatch({ type: CART_SAVE_PAYMENT, payload: data });\n}\nexport { addToCart, removeFromCart, saveShipping, savePayment }"]},"metadata":{},"sourceType":"module"}