{"ast":null,"code":"import _objectSpread from \"/home/ali/Documents/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/ali/Documents/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/ali/Documents/website/src/containers/Card/Popup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { Button } from \"@material-ui/core\";\nimport { Menu, MenuItem } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport { useForm } from \"react-hook-form\";\nimport './Cards.css';\nimport Basket from '../../components/Basket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  table: {\n    minWidth: 60\n  },\n  tablecell: {\n    fontSize: '10pt'\n  },\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing(2),\n    margin: 'auto'\n  },\n  image: {},\n  img: {\n    margin: 'auto',\n    display: 'block',\n    maxWidth: '100%',\n    maxHeight: '100%'\n  }\n}));\nexport default function ComplexGrid(props) {\n  _s();\n\n  const _useForm = useForm(),\n        register = _useForm.register,\n        handleSubmit = _useForm.handleSubmit,\n        reset = _useForm.reset;\n\n  const _props$details = props.details,\n        id = _props$details.id,\n        image = _props$details.image,\n        name = _props$details.name,\n        description = _props$details.description,\n        is_offer = _props$details.is_offer;\n  const rate = props.rate;\n  const item_attributes = props.item_attributes;\n\n  const _useState = useState(item_attributes[0].price),\n        _useState2 = _slicedToArray(_useState, 2),\n        price = _useState2[0],\n        setPrice = _useState2[1];\n\n  const _useState3 = useState(item_attributes[0].offer_price),\n        _useState4 = _slicedToArray(_useState3, 2),\n        offer = _useState4[0],\n        setOffer = _useState4[1];\n\n  const classes = useStyles();\n\n  const _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        anchorEl = _React$useState2[0],\n        setAnchorEl = _React$useState2[1];\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleChangeSize = event => {\n    const pickedAttributes = item_attributes.filter(item => item.id == event.target.value);\n    setPrice(pickedAttributes[0].price);\n    setOffer(pickedAttributes[0].offer_price);\n  }; ////////// shoping cart\n\n\n  const _details = details,\n        products = _details.products;\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        cartItems = _useState6[0],\n        setCartItems = _useState6[1];\n\n  const onAdd = product => {\n    const exist = cartItems.find(x => x.id === product.id);\n\n    if (exist) {\n      setCartItems(cartItems.map(x => x.id === product.id ? _objectSpread(_objectSpread({}, exist), {}, {\n        qty: exist.qty + 1\n      }) : x));\n    } else {\n      setCartItems([...cartItems, _objectSpread(_objectSpread({}, product), {}, {\n        qty: 1\n      })]);\n    }\n  };\n\n  const onRemove = product => {\n    const exist = cartItems.find(x => x.id === product.id);\n\n    if (exist.qty === 1) {\n      setCartItems(cartItems.filter(x => x.id !== product.id));\n    } else {\n      setCartItems(cartItems.map(x => x.id === product.id ? _objectSpread(_objectSpread({}, exist), {}, {\n        qty: exist.qty - 1\n      }) : x));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          className: classes.image,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: classes.img,\n            alt: \"complex\",\n            src: \"http://localhost:8000/storage/\".concat(image)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: true,\n          container: true,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: true,\n            container: true,\n            direction: \"column\",\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: true,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                variant: \"body1\",\n                gutterBottom: true,\n                children: name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                gutterBottom: true,\n                children: description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                variant: \"body1\",\n                gutterBottom: true,\n                children: \"choose Size\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"bottle_size\",\n                select: true // label=\"Category\"\n                ,\n                onChange: handleChangeSize\n                /* defaultValue={item_attributes[0].id} */\n                ,\n                name: \"bottle_size\",\n                inputRef: register,\n                SelectProps: {\n                  native: true\n                },\n                helperText: \"\",\n                variant: \"outlined\",\n                children: item_attributes.map(option => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: option.id,\n                    children: option.bottle_size\n                  }, option.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 15\n              }, this), is_offer ? /*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                variant: \"body1\",\n                gutterBottom: true,\n                children: [\"Price: \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"offer\",\n                  children: [price * rate, \" LBP\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 22\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 16\n                }, this), \"Offer Price: \", offer * rate, \" LBP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 15\n              }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                variant: \"body1\",\n                gutterBottom: true,\n                children: [\"Price: \", price * rate, \" LBP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                alignSelf: \"center\",\n                width: \"50%\",\n                color: \"black\",\n                backgroundColor: \"lightgray\"\n              },\n              edge: \"start\",\n              \"aria-label\": \"menu\",\n              \"aria-haspopup\": \"true\",\n              onClick: () => onAdd(product),\n              children: \"Add To Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Basket, {\n                cartItems: cartItems,\n                onAdd: onAdd,\n                onRemove: onRemove\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ComplexGrid, \"9UwIwC2SPaauIhs8KewPANEMPgM=\", false, function () {\n  return [useForm, useStyles];\n});\n\n_c = ComplexGrid;\n\nvar _c;\n\n$RefreshReg$(_c, \"ComplexGrid\");","map":{"version":3,"sources":["/home/ali/Documents/website/src/containers/Card/Popup.js"],"names":["React","useEffect","useState","makeStyles","Grid","Paper","Typography","Button","Menu","MenuItem","TextField","useForm","Basket","useStyles","theme","table","minWidth","tablecell","fontSize","root","flexGrow","paper","padding","spacing","margin","image","img","display","maxWidth","maxHeight","ComplexGrid","props","register","handleSubmit","reset","details","id","name","description","is_offer","rate","item_attributes","price","setPrice","offer_price","offer","setOffer","classes","anchorEl","setAnchorEl","handleClose","handleClick","event","currentTarget","handleChangeSize","pickedAttributes","filter","item","target","value","products","cartItems","setCartItems","onAdd","product","exist","find","x","map","qty","onRemove","fontWeight","native","option","bottle_size","alignSelf","width","color","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { Button } from \"@material-ui/core\";\nimport {Menu, MenuItem} from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport { useForm } from \"react-hook-form\";\nimport './Cards.css';\nimport Basket from '../../components/Basket';\n\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    minWidth: 60,\n  },\n  tablecell: {\n    fontSize: '10pt'\n},\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    margin: 'auto',\n\n  },\n\n  image: {\n    \n  },\n\n  img: {\n    margin: 'auto',\n    display: 'block',\n    maxWidth: '100%',\n    maxHeight: '100%',\n  },\n}));\n\nexport default function ComplexGrid(props) {\nconst { register , handleSubmit, reset } = useForm();\nconst { id, image, name, description, is_offer} = props.details\nconst {rate}=props\nconst {item_attributes}=props\n\n \n  const [price, setPrice] = useState(item_attributes[0].price)\n  const [offer, setOffer] = useState(item_attributes[0].offer_price)\n  \n\n\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const handleClose = () => {\n        setAnchorEl(null);\n      };\n  const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n      };\n\nconst handleChangeSize = (event) => {\n  const pickedAttributes= (item_attributes.filter((item) => item.id == event.target.value))\n    \n    setPrice(pickedAttributes[0].price)\n    setOffer(pickedAttributes[0].offer_price)\n\n    };\n////////// shoping cart\nconst { products } = details;\n  const [cartItems, setCartItems] = useState([]);\n  const onAdd = (product) => {\n    const exist = cartItems.find((x) => x.id === product.id);\n    if (exist) {\n      setCartItems(\n        cartItems.map((x) =>\n          x.id === product.id ? { ...exist, qty: exist.qty + 1 } : x\n        )\n      );\n    } else {\n      setCartItems([...cartItems, { ...product, qty: 1 }]);\n    }\n  };\n  const onRemove = (product) => {\n    const exist = cartItems.find((x) => x.id === product.id);\n    if (exist.qty === 1) {\n      setCartItems(cartItems.filter((x) => x.id !== product.id));\n    } else {\n      setCartItems(\n        cartItems.map((x) =>\n          x.id === product.id ? { ...exist, qty: exist.qty - 1 } : x\n        )\n      );\n    }\n  };\n    \n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <Grid container spacing={2}>\n          <Grid item className={classes.image}>\n          <img className={classes.img} alt=\"complex\" src= {`http://localhost:8000/storage/${image}`} />\n          </Grid>\n          <Grid item xs={12} sm container>\n            <Grid item xs container direction=\"column\" spacing={2}>\n              <Grid item xs>\n              <Typography  style={ {fontWeight:\"bold\"}} variant=\"body1\" gutterBottom>\n                  {name}\n                </Typography>\n                <Typography variant=\"body2\" gutterBottom>\n                  {description}\n                </Typography>\n                \n               \n              </Grid>\n              <div>\n           {/*  <Button style={{ alignSelf:\"center\", width:\"100%\", color:\"black\", backgroundColor:\"lightgray\" }} edge=\"start\" aria-label=\"menu\" aria-haspopup=\"true\" onClick={handleClick}>\n             Choose Bottle Size\n            </Button> */}\n            <Typography  style={ {fontWeight:\"bold\"}} variant=\"body1\" gutterBottom>\n                  choose Size\n            </Typography>\n              <TextField\n                id=\"bottle_size\"\n                select\n                // label=\"Category\"\n                onChange={handleChangeSize}\n                /* defaultValue={item_attributes[0].id} */\n                name=\"bottle_size\"\n                inputRef={register}\n                SelectProps={{\n                native: true,\n                }}\n                helperText=\"\"\n                variant=\"outlined\"\n              >\n                  {item_attributes.map((option) => {\n                    return (\n                    <option key={option.id} value={option.id}>\n                      {option.bottle_size}\n                    </option>\n                    )}\n                  )}\n              </TextField>\n              \n              {is_offer ? \n              <Typography  style={ {fontWeight:\"bold\"}} variant=\"body1\" gutterBottom>\n               \n              Price: <div className=\"offer\">{price*rate} LBP</div> \n               <br></br>\n              Offer Price: {offer*rate} LBP\n              </Typography> : <Typography  style={ {fontWeight:\"bold\"}} variant=\"body1\" gutterBottom>\n                  Price: {price*rate} LBP\n              </Typography>}\n              \n            \n       \n      \n\n        </div>\n         <Button style={{ alignSelf:\"center\", width:\"50%\", color:\"black\", backgroundColor:\"lightgray\" }} edge=\"start\" aria-label=\"menu\" aria-haspopup=\"true\" onClick={() => onAdd(product)}>\n             Add To Cart\n        </Button>\n        <div>\n        <Basket\n          cartItems={cartItems}\n          onAdd={onAdd}\n          onRemove={onRemove}\n        ></Basket>\n        </div>\n\n            </Grid>\n          </Grid>\n        </Grid>\n      </Paper>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}