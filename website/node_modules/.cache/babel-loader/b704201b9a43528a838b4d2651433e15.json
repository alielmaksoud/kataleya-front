{"ast":null,"code":"import _objectSpread from \"/home/ali/Documents/Kataleya-perfume/kataleya-front/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/ali/Documents/Kataleya-perfume/kataleya-front/website/src/hoc/ErrorHandler.js\";\nimport React, { Component, Fragment } from 'react';\nimport Modal from '../components/UI/Modal/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst withErrorHandler = (WrappedComponent, axios) => {\n  var _temp;\n\n  return _temp = class extends Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n        error: null\n      };\n\n      this.errorConfirmedHandler = () => {\n        this.setState({\n          error: null\n        });\n      };\n    }\n\n    componentWillMount() {\n      this.reqInterceptor = axios.interceptors.request.use(req => {\n        this.setState({\n          error: null\n        });\n        return req;\n      });\n      this.resInterceptor = axios.interceptors.response.use(res => res, err => {\n        this.setState({\n          error: err\n        });\n      });\n    }\n\n    componentWillUnmount() {\n      axios.interceptors.request.eject(this.reqInterceptor);\n      axios.interceptors.response.eject(this.resInterceptor);\n    }\n\n    render() {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Modal, {\n          modalType: \"small\",\n          showBackdrop: this.state.error,\n          showModal: this.state.error,\n          modalClosed: this.errorConfirmedHandler,\n          children: this.state.error ? this.state.error.message : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(WrappedComponent, _objectSpread({}, this.props), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this);\n    }\n\n  }, _temp;\n};\n\nexport default withErrorHandler;","map":{"version":3,"sources":["/home/ali/Documents/Kataleya-perfume/kataleya-front/website/src/hoc/ErrorHandler.js"],"names":["React","Component","Fragment","Modal","withErrorHandler","WrappedComponent","axios","state","error","errorConfirmedHandler","setState","componentWillMount","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","err","componentWillUnmount","eject","render","message","props"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,OAAOC,KAAP,MAAkB,8BAAlB;;;AAEA,MAAMC,gBAAgB,GAAG,CAACC,gBAAD,EAAmBC,KAAnB,KAA6B;AAAA;;AACpD,iBAAO,cAAcL,SAAd,CAAwB;AAAA;AAAA;AAAA,WAC7BM,KAD6B,GACrB;AACNC,QAAAA,KAAK,EAAE;AADD,OADqB;;AAAA,WAyB7BC,qBAzB6B,GAyBL,MAAM;AAC5B,aAAKC,QAAL,CAAc;AACZF,UAAAA,KAAK,EAAE;AADK,SAAd;AAGD,OA7B4B;AAAA;;AAK7BG,IAAAA,kBAAkB,GAAG;AACnB,WAAKC,cAAL,GAAsBN,KAAK,CAACO,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+BC,GAAG,IAAI;AAC1D,aAAKN,QAAL,CAAc;AACZF,UAAAA,KAAK,EAAE;AADK,SAAd;AAIA,eAAOQ,GAAP;AACD,OANqB,CAAtB;AAOA,WAAKC,cAAL,GAAsBX,KAAK,CAACO,YAAN,CAAmBK,QAAnB,CAA4BH,GAA5B,CAAgCI,GAAG,IAAIA,GAAvC,EAA4CC,GAAG,IAAI;AACvE,aAAKV,QAAL,CAAc;AACZF,UAAAA,KAAK,EAAEY;AADK,SAAd;AAGD,OAJqB,CAAtB;AAKD;;AAEDC,IAAAA,oBAAoB,GAAG;AACrBf,MAAAA,KAAK,CAACO,YAAN,CAAmBC,OAAnB,CAA2BQ,KAA3B,CAAiC,KAAKV,cAAtC;AACAN,MAAAA,KAAK,CAACO,YAAN,CAAmBK,QAAnB,CAA4BI,KAA5B,CAAkC,KAAKL,cAAvC;AACD;;AAQDM,IAAAA,MAAM,GAAG;AACP,0BACE,QAAC,QAAD;AAAA,gCACE,QAAC,KAAD;AACE,UAAA,SAAS,EAAC,OADZ;AAEE,UAAA,YAAY,EAAE,KAAKhB,KAAL,CAAWC,KAF3B;AAGE,UAAA,SAAS,EAAE,KAAKD,KAAL,CAAWC,KAHxB;AAIE,UAAA,WAAW,EAAE,KAAKC,qBAJpB;AAAA,oBAKG,KAAKF,KAAL,CAAWC,KAAX,GAAmB,KAAKD,KAAL,CAAWC,KAAX,CAAiBgB,OAApC,GAA8C;AALjD;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE,QAAC,gBAAD,oBAAsB,KAAKC,KAA3B;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAYD;;AA5C4B,GAA/B;AA8CD,CA/CD;;AAiDA,eAAerB,gBAAf","sourcesContent":["import React, { Component, Fragment } from 'react';\n\nimport Modal from '../components/UI/Modal/Modal';\n\nconst withErrorHandler = (WrappedComponent, axios) => {\n  return class extends Component {\n    state = {\n      error: null,\n    };\n\n    componentWillMount() {\n      this.reqInterceptor = axios.interceptors.request.use(req => {\n        this.setState({\n          error: null\n        });\n\n        return req;\n      });\n      this.resInterceptor = axios.interceptors.response.use(res => res, err => {\n        this.setState({\n          error: err\n        });\n      });\n    };\n\n    componentWillUnmount() {\n      axios.interceptors.request.eject(this.reqInterceptor);\n      axios.interceptors.response.eject(this.resInterceptor);\n    };\n\n    errorConfirmedHandler = () => {\n      this.setState({\n        error: null\n      });\n    };\n\n    render() {\n      return (\n        <Fragment>\n          <Modal\n            modalType=\"small\"\n            showBackdrop={this.state.error}\n            showModal={this.state.error}\n            modalClosed={this.errorConfirmedHandler}>\n            {this.state.error ? this.state.error.message : null}\n          </Modal>\n          <WrappedComponent {...this.props} />\n        </Fragment>\n      )\n    }\n  }\n}\n\nexport default withErrorHandler;"]},"metadata":{},"sourceType":"module"}