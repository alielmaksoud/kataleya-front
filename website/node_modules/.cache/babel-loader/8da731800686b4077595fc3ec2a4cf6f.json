{"ast":null,"code":"var _jsxFileName = \"/home/ali/Documents/Kataleya-perfume/kataleya-front/website/src/containers/Cart/Cart.js\";\nimport React, { Component } from 'react';\nimport './Cart.scss';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions';\nimport { Redirect } from 'react-router-dom';\nimport TransitionGroup from 'react-transition-group/TransitionGroup';\nimport CSSTransition from 'react-transition-group/CSSTransition';\nimport PropTypes from 'prop-types';\nimport Button from '../../components/UI/Button/Button';\nimport OrderSummary from './OrderSummary/OrderSummary';\nimport ContactForm from './ContactForm/ContactForm';\nimport ScrollToTopOnMount from '../../shared/ScrollToTopOnMount';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orderSummaryAccepted: false\n    };\n\n    this.acceptOrder = () => {\n      if (this.props.isAuth) {\n        this.setState({\n          orderSummaryAccepted: true\n        });\n      } else {\n        this.props.history.push('/auth');\n      }\n\n      ;\n    };\n  }\n\n  componentDidMount() {\n    this.props.calculateOrder();\n  }\n\n  componentDidUpdate() {\n    this.props.calculateOrder();\n  }\n\n  render() {\n    const _this$props = this.props,\n          cartItems = _this$props.cartItems,\n          clearCart = _this$props.clearCart,\n          isAuth = _this$props.isAuth,\n          purchased = _this$props.purchased;\n\n    let selected = /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"main-info\",\n      children: [\"You select \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"bold\",\n        children: cartItems.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 56\n      }, this), \" products.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 20\n    }, this);\n\n    if (cartItems.length === 1) selected = /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"main-info\",\n      children: [\"You select \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"bold\",\n        children: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 80\n      }, this), \" product.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 44\n    }, this);\n    let list;\n    cartItems.length === 0 ? list = /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"main-info\",\n      style: {\n        marginTop: '20px',\n        fontWeight: '500'\n      },\n      children: \"You do not have any products on the list yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 39\n    }, this) : list = /*#__PURE__*/_jsxDEV(TransitionGroup, {\n      component: \"ul\",\n      className: \"cart-list\",\n      children: cartItems.map(item => {\n        const id = item.id,\n              img = item.img,\n              title = item.title,\n              size = item.size,\n              price = item.price,\n              total = item.total,\n              amount = item.amount;\n        const _this$props2 = this.props,\n              remove = _this$props2.remove,\n              handleProductAmount = _this$props2.handleProductAmount;\n        return /*#__PURE__*/_jsxDEV(CSSTransition, {\n          classNames: \"fade\",\n          timeout: 300,\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"cart-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"img-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"cart-item-img\",\n                src: img,\n                alt: \"product img\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"name\",\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"value\",\n                children: [\"Size: \", size]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"value\",\n                children: \"Quantity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"button-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  disabled: amount === 1,\n                  onClick: () => handleProductAmount(id, 'decrement'),\n                  className: \"size\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"size\",\n                  children: amount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleProductAmount(id, 'increment'),\n                  className: \"size\",\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"value\",\n                children: [\"Price: \", price, \".00 $\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"value\",\n                children: [\"Total: \", total, \".00 $\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                clicked: () => remove(id),\n                btnType: \"small\",\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this)\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ScrollToTopOnMount, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"main-title\",\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), selected, cartItems.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          clicked: clearCart,\n          btnType: \"dark\",\n          children: \"Clear Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-wrapper\",\n          children: [list, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkout\",\n            children: [cartItems.length > 0 && /*#__PURE__*/_jsxDEV(OrderSummary, {\n              cartItems: cartItems,\n              acceptOrder: this.acceptOrder,\n              isAuth: isAuth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 40\n            }, this), cartItems.length > 0 && this.state.orderSummaryAccepted && /*#__PURE__*/_jsxDEV(ContactForm, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 75\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), purchased && /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\n;\nCart.propTypes = {\n  cartItems: PropTypes.array.isRequired,\n  purchased: PropTypes.bool.isRequired,\n  isAuth: PropTypes.bool.isRequired,\n  remove: PropTypes.func.isRequired,\n  handleProductAmount: PropTypes.func.isRequired,\n  calculateOrder: PropTypes.func.isRequired,\n  clearCart: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => {\n  return {\n    cartItems: state.products.cart,\n    purchased: state.order.purchased,\n    isAuth: state.auth.token !== null\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    remove: id => dispatch(actions.removeCartItem(id)),\n    handleProductAmount: (id, value) => dispatch(actions.handleProductAmount(id, value)),\n    calculateOrder: () => dispatch(actions.calculateOrder()),\n    clearCart: () => dispatch(actions.clearCart())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","map":{"version":3,"sources":["/home/ali/Documents/Kataleya-perfume/kataleya-front/website/src/containers/Cart/Cart.js"],"names":["React","Component","connect","actions","Redirect","TransitionGroup","CSSTransition","PropTypes","Button","OrderSummary","ContactForm","ScrollToTopOnMount","Cart","state","orderSummaryAccepted","acceptOrder","props","isAuth","setState","history","push","componentDidMount","calculateOrder","componentDidUpdate","render","cartItems","clearCart","purchased","selected","length","list","marginTop","fontWeight","map","item","id","img","title","size","price","total","amount","remove","handleProductAmount","propTypes","array","isRequired","bool","func","mapStateToProps","products","cart","order","auth","token","mapDispatchToProps","dispatch","removeCartItem","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Cart.scss';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions';\nimport { Redirect } from 'react-router-dom';\nimport TransitionGroup from 'react-transition-group/TransitionGroup';\nimport CSSTransition from 'react-transition-group/CSSTransition';\nimport PropTypes from 'prop-types';\n\nimport Button from '../../components/UI/Button/Button';\nimport OrderSummary from './OrderSummary/OrderSummary';\nimport ContactForm from './ContactForm/ContactForm';\nimport ScrollToTopOnMount from '../../shared/ScrollToTopOnMount';\n\nclass Cart extends Component {\n  state = {\n    orderSummaryAccepted: false\n  };\n\n  componentDidMount() {\n    this.props.calculateOrder();\n  };\n\n  componentDidUpdate() {\n    this.props.calculateOrder();\n  };\n\n  acceptOrder = () => {\n    if (this.props.isAuth) {\n      this.setState({\n        orderSummaryAccepted: true\n      });\n    } else {\n      this.props.history.push('/auth');\n    };\n  };\n\n  render() {\n    const { cartItems, clearCart, isAuth, purchased } = this.props;\n\n    let selected = <p className=\"main-info\">You select <span className=\"bold\">{cartItems.length}</span> products.</p>\n    if (cartItems.length === 1) selected = <p className=\"main-info\">You select <span className=\"bold\">1</span> product.</p>;\n\n    let list;\n    (cartItems.length === 0) ? list = <p className=\"main-info\" style={{ marginTop: '20px', fontWeight: '500' }}>You do not have any products on the list yet.</p> :\n      list = (\n        <TransitionGroup component=\"ul\" className=\"cart-list\">\n          {cartItems.map(item => {\n            const { id, img, title, size, price, total, amount } = item;\n            const { remove, handleProductAmount } = this.props;\n\n            return (\n              <CSSTransition key={id} classNames=\"fade\" timeout={300}>\n                <li className=\"cart-item\">\n                  <div className=\"img-wrapper\">\n                    <img className=\"cart-item-img\" src={img} alt=\"product img\" />\n                  </div>\n                  <div className=\"cart-item-content\">\n                    <h3 className=\"name\">{title}</h3>\n                    <p className=\"value\">Size: {size}</p>\n                    <p className=\"value\">Quantity:</p>\n                    <div className=\"button-wrapper\">\n                      <button disabled={amount === 1} onClick={() => handleProductAmount(id, 'decrement')} className=\"size\">-</button>\n                      <span className=\"size\">{amount}</span>\n                      <button onClick={() => handleProductAmount(id, 'increment')} className=\"size\">+</button>\n                    </div>\n                    <p className=\"value\">Price: {price}.00 $</p>\n                    <p className=\"value\">Total: {total}.00 $</p>\n                    <Button clicked={() => remove(id)} btnType=\"small\">Remove</Button>\n                  </div>\n                </li>\n              </CSSTransition>\n            )\n          })}\n        </TransitionGroup>\n      );\n\n    return (\n      <>\n        <ScrollToTopOnMount />\n        <div className=\"cart-container\">\n          <h2 className=\"main-title\">Shopping Cart</h2>\n          {selected}\n          {cartItems.length > 0 &&\n            <Button clicked={clearCart} btnType=\"dark\">Clear Cart</Button>\n          }\n          <div className=\"content-wrapper\">\n            {list}\n            <div className=\"checkout\">\n              {cartItems.length > 0 && <OrderSummary cartItems={cartItems} acceptOrder={this.acceptOrder} isAuth={isAuth} />}\n              {cartItems.length > 0 && this.state.orderSummaryAccepted && <ContactForm />}\n            </div>\n          </div>\n          {purchased && <Redirect to=\"/\" />}\n        </div>\n      </>\n    );\n  }\n};\n\nCart.propTypes = {\n  cartItems: PropTypes.array.isRequired,\n  purchased: PropTypes.bool.isRequired,\n  isAuth: PropTypes.bool.isRequired,\n  remove: PropTypes.func.isRequired,\n  handleProductAmount: PropTypes.func.isRequired,\n  calculateOrder: PropTypes.func.isRequired,\n  clearCart: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => {\n  return {\n    cartItems: state.products.cart,\n    purchased: state.order.purchased,\n    isAuth: state.auth.token !== null\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    remove: id => dispatch(actions.removeCartItem(id)),\n    handleProductAmount: (id, value) => dispatch(actions.handleProductAmount(id, value)),\n    calculateOrder: () => dispatch(actions.calculateOrder()),\n    clearCart: () => dispatch(actions.clearCart())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);"]},"metadata":{},"sourceType":"module"}