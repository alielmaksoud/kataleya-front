{"ast":null,"code":"import _regeneratorRuntime from \"/home/ali/Documents/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ali/Documents/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/ali/Documents/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/ali/Documents/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/ali/Documents/website/src/Dashboard/Pages/Users/ManageUser.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Button } from '@material-ui/core';\nimport CookieService from '../../Service/CookieService';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport EditUser from './EditUser';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ManageUser() {\n  _s();\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        Users = _useState2[0],\n        setUsers = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        Loading = _useState4[0],\n        setLoading = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        Editing = _useState6[0],\n        setEditing = _useState6[1];\n\n  const _useState7 = useState({}),\n        _useState8 = _slicedToArray(_useState7, 2),\n        UserData = _useState8[0],\n        setUserData = _useState8[1];\n\n  const _useState9 = useState({\n    display: 'None',\n    color: 'red'\n  }),\n        _useState10 = _slicedToArray(_useState9, 2),\n        display = _useState10[0],\n        setdisplay = _useState10[1];\n\n  const _useState11 = useState(\"none\"),\n        _useState12 = _slicedToArray(_useState11, 2),\n        message = _useState12[0],\n        setmessage = _useState12[1];\n\n  const useStyles = makeStyles(theme => ({\n    usersTable: {\n      color: 'green',\n      position: 'absolute',\n      zIndex: '0',\n      width: '70%',\n      height: '70vh',\n      marginTop: '1%',\n      marginLeft: '15%'\n    },\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: 'green'\n    },\n    manageusers: {\n      /* backgroundColor: \"rgba(116, 255, 116, 0.145)\", */\n      height: '86vh'\n    }\n  }));\n  const usersTable = useStyles();\n  const cookie = CookieService.get('Bearer');\n\n  const HandleEdit = () => {\n    setEditing(!Editing);\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    var config = {\n      method: 'get',\n      url: 'http://localhost:8000/api/admin/user/show',\n      headers: {\n        'Authorization': \"Bearer \".concat(cookie),\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    };\n    axios(config).then(res => {\n      setUsers(res.data.map((item, index) => {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          delete: {\n            id: item.id\n          },\n          edit: {\n            id: item.id,\n            index: index\n          }\n          /* image   : linkkk + item.picture, */\n\n        });\n      }));\n      setLoading(false);\n    }).catch(err => {\n      console.log(err.request);\n    });\n  }, []);\n  console.log(Users);\n\n  const DeleteUser = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var config;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            config = {\n              method: 'Delete',\n              url: \"http://localhost:8000/api/admin/user/\".concat(id),\n              headers: {\n                'Authorization': \"Bearer \".concat(cookie),\n                'Content-Type': 'application/x-www-form-urlencoded'\n              }\n            };\n            axios(config).then(res => {\n              setmessage(\"User has been Deleted\");\n              setdisplay({\n                display: 'inline',\n                color: 'green'\n              });\n              /* props.Edit() */\n\n              window.location.replace(\"/admin/ManageUser\");\n              setUsers(res.data.map(item => {\n                return _objectSpread(_objectSpread({}, item), {}, {\n                  delete: item.id,\n                  edit: item.id\n                  /* image   : linkkk + item.picture */\n\n                });\n              }));\n            }).catch(err => {\n              console.log(err.request);\n            });\n            /* axios(config2)\n            .then(res => {\n                 }).catch(err => {\n              console.log(err.request)\n            }) */\n\n            setLoading(false);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function DeleteUser(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const columns = [{\n    field: 'id',\n    headerName: 'ID',\n    width: 65\n  }, {\n    field: 'Name',\n    headerName: 'Name',\n    width: 160,\n    valueGetter: params => \"\".concat(params.getValue('name') || '')\n  }, {\n    field: 'phone',\n    headerName: 'Phone Number',\n    width: 250\n  }, {\n    field: 'email',\n    headerName: 'Email',\n    width: 250\n  }, {\n    field: 'created_at',\n    headerName: 'Registered on',\n    width: 250\n  }, {\n    field: 'edit',\n    headerName: 'Edit',\n    renderCell: params => /*#__PURE__*/_jsxDEV(Button, {\n      style: {\n        backgroundColor: '#36C14B'\n      },\n      variant: \"contained\",\n      size: \"small\",\n      alt: \"Remy Sharp\",\n      onClick: () => {\n        setUserData(Users[params.value.index]);\n        setEditing(true);\n      },\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this)\n  }, {\n    field: 'delete',\n    headerName: 'Delete',\n    sortable: false,\n    renderCell: params => /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => DeleteUser(params.value.id),\n      style: {\n        backgroundColor: '#F76363'\n      },\n      variant: \"contained\",\n      size: \"small\",\n      alt: \"Remy Sharp\",\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this)\n  }];\n  console.log(HandleEdit);\n\n  if (Loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Backdrop, {\n        className: usersTable.backdrop,\n        open: true,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n          color: \"inherit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this);\n  }\n\n  if (Editing) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(EditUser, {\n        UserData: UserData,\n        Edit: HandleEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: usersTable.manageusers,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: usersTable.usersTable,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: display,\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(DataGrid, {\n          rows: Users,\n          columns: columns,\n          pageSize: 8\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 5\n    }, this);\n  }\n}\n\n_s(ManageUser, \"pzvSU/uTqXLRyYfqxsKx5YhPTg4=\", false, function () {\n  return [useStyles];\n});\n\n_c = ManageUser;\nexport default ManageUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageUser\");","map":{"version":3,"sources":["/home/ali/Documents/website/src/Dashboard/Pages/Users/ManageUser.js"],"names":["React","useState","useEffect","DataGrid","makeStyles","Avatar","Button","CookieService","Backdrop","CircularProgress","EditUser","axios","ManageUser","Users","setUsers","Loading","setLoading","Editing","setEditing","UserData","setUserData","display","color","setdisplay","message","setmessage","useStyles","theme","usersTable","position","zIndex","width","height","marginTop","marginLeft","backdrop","drawer","manageusers","cookie","get","HandleEdit","config","method","url","headers","then","res","data","map","item","index","delete","id","edit","catch","err","console","log","request","DeleteUser","window","location","replace","columns","field","headerName","valueGetter","params","getValue","renderCell","backgroundColor","value","sortable"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Button } from '@material-ui/core';\nimport CookieService from '../../Service/CookieService';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport EditUser from './EditUser';\nimport axios from 'axios';\n\n\n\nfunction ManageUser() {\n  const [Users, setUsers] = useState([])\n  const [Loading, setLoading] = useState(true)\n  const [Editing, setEditing] = useState(false)\n  const [UserData, setUserData] = useState({})\n  const [display, setdisplay] = useState({display: 'None', color: 'red' });\n  const [message, setmessage] = useState(\"none\");\n    const useStyles = makeStyles((theme) => ({\n        usersTable: {\n          color: 'green',\n          position: 'absolute',\n          zIndex: '0',\n          width: '70%',\n          height: '70vh',\n          marginTop: '1%',\n          marginLeft: '15%',\n         \n        },\n        backdrop: {\n          zIndex: theme.zIndex.drawer + 1,\n          color: 'green',\n        },\n        manageusers : {\n          /* backgroundColor: \"rgba(116, 255, 116, 0.145)\", */\n          height : '86vh',\n        }\n      }));\n    const usersTable = useStyles();\n    const cookie = CookieService.get('Bearer');\n\n    \n\n   const HandleEdit = () => {\n      setEditing(!Editing)\n    }\n \n    useEffect( () => {\n      setLoading(true)\n      var config = {\n        method: 'get',\n        url: 'http://localhost:8000/api/admin/user/show',\n        headers: { \n          'Authorization': `Bearer ${cookie}`, \n          'Content-Type': 'application/x-www-form-urlencoded'\n        }};\n          axios(config)\n          .then(res => {\n                  setUsers(res.data.map((item, index)=>  \n                    {return {\n                        ...item,\n                        delete: {id: item.id},\n                        edit: {id: item.id, index: index },\n                        /* image   : linkkk + item.picture, */\n                    }}));\n                    setLoading(false)\n          }).catch(err => {\n            console.log(err.request)\n          })\n    },[]);\n    console.log(Users)\n    const DeleteUser = async (id) => {\n        setLoading(true);\n \n        var config = {\n        method: 'Delete',\n        url: `http://localhost:8000/api/admin/user/${id}`,\n        headers: { \n          'Authorization': `Bearer ${cookie}`, \n          'Content-Type': 'application/x-www-form-urlencoded'\n        }};\n  \n          axios(config)\n          .then(res => {\n            setmessage(\"User has been Deleted\")\n            setdisplay({display: 'inline', color: 'green' })\n            /* props.Edit() */\n            window.location.replace(\"/admin/ManageUser\")\n            setUsers(res.data.map(item =>  \n              {return {\n                  ...item,\n                  delete: item.id,\n                  edit: item.id,\n                  /* image   : linkkk + item.picture */\n              }}));\n                  \n          }).catch(err => {\n            console.log(err.request)\n          })\n\n          /* axios(config2)\n          .then(res => {\n    \n          }).catch(err => {\n            console.log(err.request)\n          }) */\n          setLoading(false)\n    }\n    const columns = [\n\n      { field: 'id', headerName: 'ID', width:65},\n      {\n        field: 'Name',\n        headerName: 'Name',\n        width: 160,\n        valueGetter: (params) =>\n          `${params.getValue('name') || ''}`,\n      },\n      { field: 'phone', headerName: 'Phone Number' , width: 250 },\n      { field: 'email', headerName: 'Email' , width: 250 },\n      { field: 'created_at', headerName: 'Registered on' , width: 250 },\n     \n      \n      \n      {\n        field: 'edit',\n        headerName: 'Edit',\n        renderCell: (params) => (\n        \n            <Button style={{backgroundColor: '#36C14B'}} variant=\"contained\" size=\"small\" alt=\"Remy Sharp\" onClick={\n               () =>  {\n                setUserData(Users[params.value.index]);\n                setEditing(true);\n               }}>\n                Edit\n            </Button>\n        ),\n      },\n      {\n        field: 'delete',\n        headerName: 'Delete',\n        sortable: false,\n        renderCell: (params) => (\n            <Button onClick={()=> DeleteUser(params.value.id)} style={{backgroundColor: '#F76363'}} variant=\"contained\" size=\"small\" alt=\"Remy Sharp\">\n                Delete\n            </Button>\n        ),\n      },\n      \n    ];\n    console.log(HandleEdit)\n    if(Loading){\n      return (\n        <div>\n            <Backdrop className={usersTable.backdrop} open={true}>\n                <CircularProgress color=\"inherit\" />\n            </Backdrop>\n        </div>\n      )\n    }\n    if(Editing){\n      return (\n        <div>\n            <EditUser UserData={UserData} Edit={HandleEdit} />\n        </div>\n      )\n    }else {\n  return (\n    <div className={usersTable.manageusers} >\n    <div className={usersTable.usersTable} >\n    {<span style={display}>{message}</span>}\n      <DataGrid rows={Users} columns={columns} pageSize={8}/>\n    </div>\n    </div>\n  );\n    }\n}\n\n\nexport default ManageUser;"]},"metadata":{},"sourceType":"module"}