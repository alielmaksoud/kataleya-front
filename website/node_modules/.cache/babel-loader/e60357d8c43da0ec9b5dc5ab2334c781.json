{"ast":null,"code":"import _regeneratorRuntime from \"/home/khalil/Desktop/kataleya-front/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/khalil/Desktop/kataleya-front/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/khalil/Desktop/kataleya-front/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/khalil/Desktop/kataleya-front/website/src/Dashboard/Pages/Items/ManageItems1.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { makeStyles } from '@material-ui/core/styles'; // import Avatar from '@material-ui/core/Avatar';\n\nimport { Button } from '@material-ui/core';\nimport CookieService from '../../Service/CookieService';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport EditItem from './EditItem';\nimport axios from 'axios';\nimport Card from './popup';\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { useForm } from \"react-hook-form\";\nimport TextField from '@material-ui/core/TextField';\nimport { green } from '@material-ui/core/colors';\nimport { blue } from '@material-ui/core/colors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ManageItem() {\n  _s();\n\n  const _useForm = useForm(),\n        register = _useForm.register,\n        handleSubmit = _useForm.handleSubmit,\n        reset = _useForm.reset;\n\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        DollarRate = _useState2[0],\n        setDollarRate = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        Items = _useState4[0],\n        setItems = _useState4[1];\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        Loading = _useState6[0],\n        setLoading = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        Editing = _useState8[0],\n        setEditing = _useState8[1];\n\n  const _useState9 = useState({}),\n        _useState10 = _slicedToArray(_useState9, 2),\n        ItemData = _useState10[0],\n        setItemData = _useState10[1];\n\n  const _useState11 = useState({\n    display: 'None',\n    color: 'red'\n  }),\n        _useState12 = _slicedToArray(_useState11, 2),\n        display = _useState12[0],\n        setdisplay = _useState12[1];\n\n  const _useState13 = useState(\"none\"),\n        _useState14 = _slicedToArray(_useState13, 2),\n        message = _useState14[0],\n        setmessage = _useState14[1];\n\n  const useStyles = makeStyles(theme => ({\n    formm: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(1)\n    },\n    rate: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    input: {\n      display: 'flex',\n      justifyContent: 'center',\n      marginBottom: '1%',\n      marginTop: '1%'\n    },\n    submit: {\n      marginLeft: '1%',\n      width: \"10%\",\n      color: theme.palette.getContrastText(green[500]),\n      backgroundColor: blue['#94aabe'],\n      '&:hover': {\n        backgroundColor: blue['#003366']\n      }\n    },\n    ItemsTable: {\n      color: 'green',\n      position: 'absolute',\n      zIndex: '0',\n      width: '70%',\n      height: '70vh',\n      marginTop: '1%',\n      marginLeft: '15%'\n    },\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: 'green'\n    },\n    manageItems: {\n      /* backgroundColor: \"rgba(116, 255, 116, 0.145)\", */\n      height: '86vh'\n    }\n  }));\n  const classes = useStyles();\n  const cookie = CookieService.get('Bearer');\n\n  const HandleEdit = () => {\n    setEditing(!Editing);\n  };\n\n  const Modify = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var fd, id, headers;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            fd = new FormData();\n            id = 1;\n            fd.append('rate', data.rate);\n            headers = {\n              'method': 'POST',\n              data: fd,\n              headers: {\n                'Authorization': \"Bearer \".concat(cookie)\n              }\n            };\n            axios(\"http://localhost:8000/api/admin/usdRate/\".concat(id, \"?_method=PUT\"), headers).then(res => {\n              setDollarRate(res.data.rate);\n              window.location.replace(\"/admin/Manageitems\");\n            }).catch(err => {\n              console.log(err.request);\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function Modify(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    setLoading(false);\n    var config = {\n      method: 'get',\n      url: 'http://localhost:8000/api/item',\n      headers: {\n        'Authorization': \"Bearer \".concat(cookie),\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    };\n    axios(config).then(res => {\n      setItems(res.data.data[0]);\n      setDollarRate(res.data.data[1][0].rate);\n      setLoading(false);\n    }).catch(err => {\n      console.log(err.request);\n    });\n  }, []);\n  console.log(Items);\n\n  const DeleteItem = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      var config;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            config = {\n              method: 'Delete',\n              url: \"http://localhost:8000/api/admin/item/\".concat(id),\n              headers: {\n                'Authorization': \"Bearer \".concat(cookie),\n                'Content-Type': 'application/x-www-form-urlencoded'\n              }\n            };\n            axios(config).then(res => {\n              console.log(res);\n              setItems(Items.filter(item => item.id !== id));\n            }).catch(err => {\n              console.log(err);\n            });\n            setLoading(false);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n\n    return function DeleteItem(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  const columns = [{\n    field: 'image',\n    headerName: 'Picture',\n    width: 120,\n    sortable: false,\n    renderCell: params => /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        width: '1',\n        height: '1'\n      },\n      alt: \"Remy Sharp\",\n      src: \"http://localhost:8000/storage/\".concat(params.row.image)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }, this)\n  }, {\n    field: 'Name',\n    headerName: 'Name',\n    width: 140,\n    valueGetter: params => \"\".concat(params.getValue('name') || '')\n  }, {\n    field: 'Category',\n    headerName: 'Category',\n    width: 120,\n    valueGetter: params => \"\".concat(params.getValue('category_name') || '')\n  }, {\n    field: 'Featured',\n    headerName: 'Featured',\n    width: 117,\n    valueGetter: params => \"\".concat(params.getValue('is_featured') || '')\n  }, {\n    field: 'Offer',\n    headerName: 'Offer',\n    width: 88,\n    valueGetter: params => \"\".concat(params.getValue('is_offer') || '')\n  }, {\n    field: 'view',\n    headerName: 'view',\n    width: 110,\n    renderCell: params => /*#__PURE__*/_jsxDEV(Popup, {\n      trigger: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        size: \"small\",\n        alt: \"Remy Sharp\",\n        children: \"View\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }, this),\n      modal: true,\n      nested: true,\n      position: \"right center\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        details: params.row,\n        rate: DollarRate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }, this)\n  }, {\n    field: 'edit',\n    headerName: 'Edit',\n    renderCell: params => /*#__PURE__*/_jsxDEV(Button, {\n      style: {\n        backgroundColor: '#36C14B'\n      },\n      variant: \"contained\",\n      size: \"small\",\n      alt: \"Remy Sharp\",\n      onClick: () => {\n        let dataofitem = Items[params.rowIndex];\n        setItemData(dataofitem);\n        setEditing(true);\n        console.log(ItemData);\n      },\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this)\n  }, {\n    field: 'delete',\n    headerName: 'Delete',\n    sortable: false,\n    renderCell: params => /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => DeleteItem(params.row.id),\n      style: {\n        backgroundColor: '#F76363'\n      },\n      variant: \"contained\",\n      size: \"small\",\n      alt: \"Remy Sharp\",\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this)\n  }];\n  console.log(HandleEdit);\n\n  if (Loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Backdrop, {\n        className: classes.backdrop,\n        open: true,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n          color: \"inherit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }, this);\n  }\n\n  if (Editing) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(EditItem, {\n        ItemData: ItemData,\n        Edit: HandleEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: classes.input,\n        children: [\"Dollar Rate: \", DollarRate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(data => Modify(data)),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.rate,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              autoComplete: \"rate\",\n              name: \"rate\",\n              variant: \"outlined\",\n              required: true,\n              id: \"rate\",\n              label: \"rate\",\n              inputRef: register,\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            alt: \"Remy Sharp\",\n            type: \"submit\",\n            size: \"small\",\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.submit,\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.manageItems,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.ItemsTable,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: display,\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(DataGrid, {\n            rows: Items,\n            columns: columns,\n            pageSize: 8\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n}\n\n_s(ManageItem, \"W6J+0O8TcU/Dq6990rQoJKK07ks=\", false, function () {\n  return [useForm, useStyles];\n});\n\n_c = ManageItem;\nexport default ManageItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageItem\");","map":{"version":3,"sources":["/home/khalil/Desktop/kataleya-front/website/src/Dashboard/Pages/Items/ManageItems1.js"],"names":["React","useState","useEffect","DataGrid","makeStyles","Button","CookieService","Backdrop","CircularProgress","EditItem","axios","Card","Popup","useForm","TextField","green","blue","ManageItem","register","handleSubmit","reset","DollarRate","setDollarRate","Items","setItems","Loading","setLoading","Editing","setEditing","ItemData","setItemData","display","color","setdisplay","message","setmessage","useStyles","theme","formm","width","marginTop","spacing","rate","justifyContent","input","marginBottom","submit","marginLeft","palette","getContrastText","backgroundColor","ItemsTable","position","zIndex","height","backdrop","drawer","manageItems","classes","cookie","get","HandleEdit","Modify","data","fd","FormData","id","append","headers","then","res","window","location","replace","catch","err","console","log","request","config","method","url","DeleteItem","filter","item","columns","field","headerName","sortable","renderCell","params","row","image","valueGetter","getValue","dataofitem","rowIndex"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { makeStyles } from '@material-ui/core/styles';\n// import Avatar from '@material-ui/core/Avatar';\nimport { Button } from '@material-ui/core';\nimport CookieService from '../../Service/CookieService';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport EditItem from './EditItem';\nimport axios from 'axios';\nimport Card from './popup'\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { useForm } from \"react-hook-form\";\nimport TextField from '@material-ui/core/TextField';\nimport { green } from '@material-ui/core/colors';\nimport { blue } from '@material-ui/core/colors';\n\nfunction ManageItem() {\n  const { register , handleSubmit, reset } = useForm();\n  const [DollarRate, setDollarRate] = useState(0)\n  const [Items, setItems] = useState([])\n  const [Loading, setLoading] = useState(true)\n  const [Editing, setEditing] = useState(false)\n  const [ItemData, setItemData] = useState({})\n  const [display, setdisplay] = useState({display: 'None', color: 'red' });\n  const [message, setmessage] = useState(\"none\");\n    const useStyles = makeStyles((theme) => ({\n      formm: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n      },\n      rate:{\n        display: 'flex',\n        justifyContent: 'center',\n      },\n      input:{\n        display: 'flex',\n        justifyContent: 'center',\n        marginBottom:'1%',\n        marginTop:'1%'\n      },\n      submit: {\n        marginLeft:'1%',\n        width: \"10%\",\n        color: theme.palette.getContrastText(green[500]),\n        backgroundColor: blue['#94aabe'],\n        '&:hover': {\n          backgroundColor: blue['#003366'],\n        },\n      },\n        ItemsTable: {\n          color: 'green',\n          position: 'absolute',\n          zIndex: '0',\n          width: '70%',\n          height: '70vh',\n          marginTop: '1%',\n          marginLeft: '15%',\n         \n        },\n        backdrop: {\n          zIndex: theme.zIndex.drawer + 1,\n          color: 'green',\n        },\n        manageItems : {\n          /* backgroundColor: \"rgba(116, 255, 116, 0.145)\", */\n          height : '86vh',\n        }\n      }));\n      const classes = useStyles();\n      const cookie = CookieService.get('Bearer');\n\n    \n\n   const HandleEdit = () => {\n      setEditing(!Editing)\n    }\n    const Modify = async (data) => {\n      const fd = new FormData();\n      let id = 1;\n        fd.append('rate', data.rate)\n      let headers = {\n        'method' : 'POST',\n         data : fd,\n         headers: {\n          'Authorization': `Bearer ${cookie}`, \n         }\n       };\n       axios(`http://localhost:8000/api/admin/usdRate/${id}?_method=PUT`, headers)\n      .then(res => {\n          setDollarRate(res.data.rate)\n          window.location.replace(\"/admin/Manageitems\")\n    }).catch(err => {\n      console.log(err.request)\n    })\n  }\n \n    useEffect( () => {\n      setLoading(false)\n      var config = {\n        method: 'get',\n        url: 'http://localhost:8000/api/item',\n        headers: { \n          'Authorization': `Bearer ${cookie}`, \n          'Content-Type': 'application/x-www-form-urlencoded'\n        }};\n          axios(config)\n          .then(res => {\n                  setItems(res.data.data[0]);\n                  setDollarRate(res.data.data[1][0].rate)\n                    setLoading(false)\n          }).catch(err => {\n            console.log(err.request)\n          })\n    },[]);\n    console.log(Items)\n    const DeleteItem = async (id) => {\n      var config = {\n      method: 'Delete',\n      url: `http://localhost:8000/api/admin/item/${id}`,\n      headers: { \n        'Authorization': `Bearer ${cookie}`, \n        'Content-Type': 'application/x-www-form-urlencoded'\n      }};\n        axios(config)\n        .then(res => {\n          console.log(res)\n          setItems(Items.filter(item => item.id !== id))    \n        }).catch(err => {\n          console.log(err)\n        })\n        setLoading(false)\n  }\n    const columns = [\n        {\n            field: 'image',\n            headerName: 'Picture',\n            width: 120,\n            sortable: false,\n            renderCell: (params) => (\n                <img style={{width: '1', height: '1'}} alt=\"Remy Sharp\" src= {`http://localhost:8000/storage/${params.row.image}`}/>\n            ),\n        },\n      {\n        field: 'Name',\n        headerName: 'Name',\n        width: 140,\n        valueGetter: (params) =>\n          `${params.getValue('name') || ''}`,\n      },\n      {\n        field: 'Category',\n        headerName: 'Category',\n        width: 120,\n        valueGetter: (params) =>\n          `${params.getValue('category_name') || ''}`,\n      },\n      {\n        field: 'Featured',\n        headerName: 'Featured',\n        width: 117,\n        valueGetter: (params) =>\n          `${params.getValue('is_featured') || ''}`,\n      },\n      {\n        field: 'Offer',\n        headerName: 'Offer',\n        width: 88,\n        valueGetter: (params) =>\n          `${params.getValue('is_offer') || ''}`,\n      },\n      \n      {\n        field: 'view',\n        headerName: 'view',\n        width: 110,\n        renderCell: (params) => (\n        \n            <Popup trigger={<Button variant=\"contained\" size=\"small\" alt=\"Remy Sharp\">View</Button>} modal nested position=\"right center\">\n            <Card details={params.row} rate={DollarRate}/>\n          </Popup>\n        ),\n      },\n      {\n        field: 'edit',\n        headerName: 'Edit',\n        renderCell: (params) => (\n        \n            <Button style={{backgroundColor: '#36C14B'}} variant=\"contained\" size=\"small\" alt=\"Remy Sharp\" onClick={\n               () =>  {\n                 let dataofitem = Items[params.rowIndex]\n                setItemData(dataofitem);\n                setEditing(true);\n                console.log(ItemData)\n               }}>\n                Edit\n            </Button>\n        ),\n      },\n      {\n        field: 'delete',\n        headerName: 'Delete',\n        sortable: false,\n        renderCell: (params) => (\n            <Button onClick={()=> DeleteItem(params.row.id)} style={{backgroundColor: '#F76363'}} variant=\"contained\" size=\"small\" alt=\"Remy Sharp\">\n                Delete\n            </Button>\n        ),\n      },\n      \n    ];\n    console.log(HandleEdit)\n    if(Loading){\n      return (\n        <div>\n            <Backdrop className={classes.backdrop} open={true}>\n                <CircularProgress color=\"inherit\" />\n            </Backdrop>\n        </div>\n      )\n    }\n    if(Editing){\n      return (\n        <div>\n            <EditItem ItemData={ItemData} Edit={HandleEdit} />\n        </div>\n      )\n    }else {\n  return (\n      <>\n        <p className={classes.input}>Dollar Rate: {DollarRate}</p>\n        <form\n         onSubmit={handleSubmit((data) => Modify(data))}\n          >\n            <div className={classes.rate}>\n            <div>\n              <TextField\n                autoComplete=\"rate\"\n                name=\"rate\"\n                variant=\"outlined\"\n                required\n                id=\"rate\"\n                label=\"rate\"\n                inputRef={register}\n                autoFocus\n              />\n              </div>\n            <Button\n            alt=\"Remy Sharp\"\n            type=\"submit\"\n            size=\"small\"\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n          Update\n          </Button>\n          </div>\n      </form>\n    <div className={classes.manageItems} >\n    <div className={classes.ItemsTable} >\n    {<span style={display}>{message}</span>}\n      <DataGrid rows={Items} columns={columns} pageSize={8}/>\n    </div>\n    </div>\n    </>\n  );\n    }\n}\n\n\nexport default ManageItem;"]},"metadata":{},"sourceType":"module"}